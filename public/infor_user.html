<!-- \webrtc\public\infor_user.html -->
<!-- Modal Thông tin User -->
<div class="modal fade" id="userInfoModal" tabindex="-1" aria-labelledby="userInfoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header">
                <h5 class="modal-title" id="userInfoModalLabel">Thông tin người dùng</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
            </div>
            
            <!-- Modal Body -->
            <div class="modal-body text-center">
                <div class="mb-4 position-relative d-flex justify-content-center">
                    <div class="icon-container d-inline-block position-relative" style="cursor: pointer;">
                        <!-- Đây là nơi hiển thị avatar hoặc icon person-circle -->
                        <div id="avatarDisplayContainer" style="position: relative;">
                            <i id="defaultAvatarIcon" class="bi bi-person-circle" style="font-size: 6rem; color: #0d6efd; display: none;"></i>
                            <img id="userAvatarImg" src="" alt="User Avatar" style="width: 6rem; height: 6rem; border-radius: 50%; object-fit: cover; display: none;">
                        </div>
                        <input type="file" id="changeAvatarInput" accept="image/*" style="display: none;">
                        <label for="changeAvatarInput" class="hover-text">Đổi ảnh</label>
                    </div>
                </div>
                
                <!-- Form thông tin người dùng -->
                <div class="mb-3 d-flex align-items-center justify-content-center">
                    <label for="modalUsername" class="form-label me-3" style="width: 100px;">
                        <strong>Tên người dùng:</strong>
                    </label>
                    <input type="text" id="modalUsername" class="form-control" readonly style="max-width: 250px;">
                </div>
                <div class="mb-3 d-flex align-items-center justify-content-center">
                    <label for="modalEmail" class="form-label me-3" style="width: 100px;">
                        <strong>Email:</strong>
                    </label>
                    <input type="text" id="modalEmail" class="form-control" readonly style="max-width: 250px;">
                </div>
            </div>
            
            <!-- Modal Footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="changePasswordButton">Đổi mật khẩu</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Crop ảnh đại diện -->
<div class="modal fade" id="avatarCropModal" tabindex="-1" aria-labelledby="avatarCropModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width: 600px;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Cắt ảnh đại diện</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
            </div>
            <div class="modal-body">
                <div class="img-container" style="width:100%; max-height:500px; text-align:center; display:flex; align-items:center; justify-content:center;">
                    <img id="avatarImageToCrop" style="max-width:100%; display:none;">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" id="cropAvatarButton" class="btn btn-success">Cắt và lưu</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
            </div>
        </div>
    </div>
</div>

<style>
    .icon-container {
        position: relative;
        display: inline-block;
    }

    .hover-text {
        position: absolute;
        top: 64%;
        left: 50%;
        transform: translateX(-50%);
        color: #fff;
        padding: 6px 12px;
        border-radius: 4px;
        font-size: 0.9rem;
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease, visibility 0.3s ease;
        visibility: hidden;
        z-index: 10;
    }

    .icon-container:hover .hover-text {
        opacity: 1;
        visibility: visible;
        pointer-events: auto;
    }

    .hover-text::after {
        content: '';
        position: absolute;
        top: -5px;
        left: 50%;
        transform: translateX(-50%);
        border-width: 5px;
        border-style: solid;
        border-color: transparent transparent rgba(0, 0, 0, 0.7) transparent;
    }
</style>
